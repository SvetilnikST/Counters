<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="WEB-INF/template/template.xhtml">
    <ui:define name="page_title">
        Counters
    </ui:define>

    <ui:define name="page_body">
        <h:form style="font-size:14px" styleClass="center">

            <p:toolbar>
            <f:facet name="left">
                <p:outputLabel>Мониторинг журналов тепловой энергии</p:outputLabel>
            </f:facet>
                <f:facet name="right">
                    <p:button style="align-items: left" type="button" icon="ui-icon-document" value="Сводный акт" href="/test_print_act.xhtml"/>
                </f:facet>
            </p:toolbar>

            <p:dataTable
                    id="deviceTable"
                    widgetVar="deviceTable"
                    var="device"
                    value="#{deviceAdministration.tblDeviceEntitysList}">

                <p:column headerText="Наименование">
                    <h:link value="#{device.name}" outcome="listDeviceDataHistory">
                        <f:param name="id" value="#{device.id}"/>
                    </h:link>
                </p:column>
                <p:column headerText="Величина">
                    <h:outputText value="#{device.unitQEntity.name}">
                    </h:outputText>
                </p:column>
                <p:column headerText="Тип устройства">
                    <h:outputText value="#{device.typeDeviceEntity.name}">
                    </h:outputText>
                </p:column>
                <p:column headerText="Серия">
                    <h:outputText value="#{device.serial}">
                    </h:outputText>
                </p:column>
                <p:column headerText="последняя дата">
                    <h:outputText value="#{deviceAdministration.lastRequestDate}">
                        <f:convertDateTime pattern="dd MMMM YYYY г., HH:mm:ss"/>
                    </h:outputText>
                </p:column>
                <p:column headerText="requestcount">
                    <h:outputText value="#{deviceAdministration.requestsCount}">
                    </h:outputText>
                </p:column>
                <p:column headerText="ip">
                    <h:outputText value="#{device.ip}">
                    </h:outputText>
                </p:column>
                <p:column headerText="num_port">
                    <h:outputText value="#{device.num_port}">
                    </h:outputText>
                </p:column>
                <p:column headerText="requestInterval">
                    <h:outputText value="#{device.requestInterval}">
                    </h:outputText>
                </p:column>
            </p:dataTable>
        </h:form>
        <!--<ui:include src="/listDevice.xhtml" />-->
    </ui:define>
    <ui:define name="page_body_inf">
            <p:panel header="Документы для ознакомления:" style="min-width:400px;min-height:200px;">
                <br/>
                <p:button type="button" icon="ui-icon-document" href="docs/1.pdf" target="pdf-frame"/>
                <p:outputLabel>Температурный график 2018-2019г.г.</p:outputLabel>
                <br/>
                <p:button type="button" icon="ui-icon-document" href="docs/2.pdf" target="pdf-frame"/>
                <p:outputLabel>Температурный график ОЗП 2017-2018</p:outputLabel>
                <br/>
                <p:button type="button" icon="ui-icon-document" href="docs/3.pdf" target="pdf-frame"/>
                <p:outputLabel>Вкладыш в журнал учета</p:outputLabel>
                <br/>
                <p:button type="button" icon="ui-icon-document" href="docs/4.pdf" target="pdf-frame"/>
                <p:outputLabel>Таблицы термодинамических свойств воды</p:outputLabel>
                <br/>
                <p:button type="" icon="ui-icon-document" href="docs/5.pdf" target="pdf-frame"/>
                <p:outputLabel> Таблица переводов единиц давлений</p:outputLabel>
                <br/>
            </p:panel>
    </ui:define>
</ui:composition>